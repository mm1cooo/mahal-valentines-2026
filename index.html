<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>üíó Valentine?</title>
  <style>
    :root{
      --pink:#f7c9d6;
      --pink2:#ffd7e5;
      --rose:#ff6fa0;
      --beige:#f6efe6;
      --cream:#fff7f3;
      --card:#ffffff;
      --ink:#2a2430;
      --shadow: 0 18px 60px rgba(0,0,0,.18);
      --shadow2: 0 10px 30px rgba(0,0,0,.14);
      --radius: 28px;
    }

    *{ box-sizing:border-box; }
    html, body { height:100%; }
    body{
      margin:0;
      font-family: ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--ink);
      background: #fff;
      overflow-x:hidden;
      -webkit-tap-highlight-color: transparent;
    }

    /* Floating hearts background */
    .float-hearts{
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow:hidden;
      z-index: 0;
    }
    .fheart{
      position:absolute;
      width: 14px; height: 14px;
      transform: rotate(45deg);
      opacity: .18;
      animation: drift linear infinite;
      background: rgba(255,111,160,.85);
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.06));
    }
    .fheart::before,.fheart::after{
      content:"";
      position:absolute;
      width:14px; height:14px;
      border-radius:50%;
      background: inherit;
    }
    .fheart::before{ left:-7px; }
    .fheart::after{ top:-7px; }
    @keyframes drift{
      from { transform: translateY(110vh) rotate(45deg) scale(var(--s)); }
      to   { transform: translateY(-20vh) rotate(45deg) scale(var(--s)); }
    }

    /* Confetti hearts */
    .confetti{
      position:fixed;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index: 9999;
    }
    .confetti .heart{
      position:absolute;
      width:14px; height:14px;
      transform: rotate(45deg);
      opacity: 0.95;
      animation: fall linear forwards;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.15));
    }
    .confetti .heart::before,.confetti .heart::after{
      content:"";
      position:absolute;
      width:14px; height:14px;
      border-radius:50%;
      background: inherit;
    }
    .confetti .heart::before{ left:-7px; }
    .confetti .heart::after{ top:-7px; }
    @keyframes fall{
      0%   { transform: translateY(-15vh) rotate(45deg) scale(var(--s)); opacity: 1; }
      100% { transform: translateY(110vh) rotate(45deg) scale(var(--s)); opacity: 0; }
    }

    /* Layout */
    .screen{
      min-height:100svh;
      display:grid;
      place-items:center;
      padding: clamp(16px, 3vw, 28px);
      position: relative;
      z-index: 1;
      isolation:isolate;
    }

    /* Photo background (Pic 1) + soft overlay */
    .bg{
      position:absolute; inset:0;
      background: url("IMG_4034.jpeg") center/cover no-repeat;
      z-index:-2;
    }
    .overlay{
      position:absolute; inset:0;
      background: radial-gradient(900px 600px at 20% 10%, rgba(255,255,255,.65), transparent),
                  radial-gradient(900px 700px at 80% 20%, rgba(246,239,230,.70), transparent),
                  linear-gradient(180deg, rgba(255,255,255,.75), rgba(251,227,234,.55));
      z-index:-1;
    }

    /* Main card (now solid, readable) */
    .card{
      width: min(940px, 100%);
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: clamp(18px, 3vw, 26px);
      position: relative;
      overflow:hidden;
      border: 2px solid rgba(255,111,160,.18);
    }

    /* Cute corner hearts */
    .card::before,
    .card::after{
      content:"";
      position:absolute;
      width: 180px; height: 180px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, rgba(255,111,160,.25), transparent 60%),
                  radial-gradient(circle at 70% 70%, rgba(247,201,214,.28), transparent 60%);
      filter: blur(0px);
      pointer-events:none;
    }
    .card::before{ top:-70px; left:-70px; }
    .card::after{ bottom:-70px; right:-70px; }

    .headline{
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 10px;
      flex-wrap:wrap;
      margin-bottom: 8px;
    }

    .title{
      margin: 0;
      font-size: clamp(26px, 4.6vw, 46px);
      letter-spacing: -.02em;
      font-weight: 1000;
    }

    .sparkle{
      font-size: 22px;
      filter: drop-shadow(0 6px 12px rgba(0,0,0,.08));
    }

    .sub{
      margin: 6px auto 16px;
      max-width: 70ch;
      font-size: clamp(14px, 2.2vw, 16px);
      line-height: 1.55;
      opacity:.9;
      text-align:center;
    }

    .pillRow{
      display:flex;
      justify-content:center;
      gap:10px;
      flex-wrap:wrap;
      margin-bottom: 14px;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 10px 12px;
      border-radius: 999px;
      background: linear-gradient(135deg, rgba(246,239,230,.9), rgba(255,215,229,.75));
      border: 1px solid rgba(0,0,0,.06);
      font-weight: 900;
      font-size: 13px;
      box-shadow: 0 10px 22px rgba(0,0,0,.07);
      user-select:none;
    }

    /* Envelope */
    .envelope-area{
      display:grid;
      place-items:center;
      padding: 8px 0 4px;
    }

    .envelope{
      width: min(520px, 95vw);
      aspect-ratio: 16 / 11;
      position: relative;
      border-radius: 20px;
      filter: drop-shadow(var(--shadow2));
      transform: translateZ(0);
      user-select:none;
      touch-action: manipulation;
    }

    .env-back{
      position:absolute; inset:0;
      background: linear-gradient(135deg, var(--cream), #fff);
      border-radius: 20px;
      border: 1px solid rgba(0,0,0,.06);
      overflow:hidden;
    }

    .env-front{
      position:absolute; inset:0;
      border-radius: 20px;
      overflow:hidden;
      pointer-events:none;
    }
    .env-front::before{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(135deg, rgba(246,239,230,.95), rgba(255,215,229,.85));
    }
    .env-front::after{
      content:"";
      position:absolute; inset:-1px;
      background: linear-gradient(135deg, rgba(0,0,0,.0), rgba(0,0,0,.10));
      clip-path: polygon(0 100%, 50% 45%, 100% 100%, 100% 100%, 0 100%);
      opacity:.22;
    }

    .env-flap{
      position:absolute;
      left:0; right:0;
      top:0;
      height: 58%;
      transform-origin: top center;
      transform: rotateX(0deg);
      transition: transform .7s cubic-bezier(.2,.8,.2,1);
      border-radius: 20px 20px 10px 10px;
      pointer-events:none;
      z-index: 3;
    }
    .env-flap::before{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(135deg, var(--beige), var(--pink2));
      clip-path: polygon(0 0, 100% 0, 50% 100%);
      border-top-left-radius: 20px;
      border-top-right-radius: 20px;
      border: 1px solid rgba(0,0,0,.05);
      border-bottom:none;
    }

    /* Letter: bigger + scroll-safe so nothing overlaps */
    .env-letter{
      position:absolute;
      left: 6%;
      right: 6%;
      bottom: 7%;
      height: 78%;
      background: #ffffff;
      border-radius: 16px;
      border: 1px solid rgba(0,0,0,.06);
      box-shadow: 0 10px 25px rgba(0,0,0,.10);
      transform: translateY(25%);
      transition: transform .75s cubic-bezier(.2,.8,.2,1);
      padding: 16px 14px;
      display:flex;
      flex-direction:column;
      gap: 12px;
      z-index: 2;
      overflow: auto; /* key: prevents overlap on smaller screens */
    }

    /* Kiss seal button */
    .seal{
      position:absolute;
      left: 50%;
      top: 58%;
      transform: translate(-50%, -50%);
      width: 86px;
      height: 86px;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,.06);
      background: radial-gradient(circle at 30% 25%, #fff, rgba(255,215,229,.85));
      box-shadow: 0 10px 25px rgba(0,0,0,.14);
      display:grid;
      place-items:center;
      cursor:pointer;
      transition: transform .12s ease, box-shadow .2s ease, opacity .25s ease;
      z-index: 4;
    }
    .seal:hover{ box-shadow: 0 14px 30px rgba(0,0,0,.16); }
    .seal:active{ transform: translate(-50%,-50%) scale(.96); }
    .seal .kiss{ font-size: 30px; line-height:1; }
    .seal .tiny{ font-size: 11px; font-weight: 900; opacity:.75; margin-top: 2px; }

    /* Open state */
    .envelope.open .env-flap{ transform: rotateX(160deg); }
    .envelope.open .env-letter{ transform: translateY(-10%); }
    .envelope.open .seal{
      opacity:0;
      pointer-events:none;
      transform: translate(-50%,-50%) scale(.85);
    }

    /* Letter header row now spacious and clickable-safe */
    .letterTop{
      display:flex;
      justify-content:center;
      align-items:center;
      gap: 10px;
      flex-wrap:wrap;
    }

    .miniPill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 10px 12px;
      border-radius: 999px;
      background: linear-gradient(135deg, rgba(247,201,214,.30), rgba(246,239,230,.50));
      border: 1px solid rgba(0,0,0,.05);
      font-weight: 1000;
      font-size: 13px;
      user-select:none;
    }

    /* Typing question */
    .question{
      text-align:center;
      font-size: clamp(22px, 3.6vw, 36px);
      font-weight: 1100;
      letter-spacing: -.02em;
      margin-top: 2px;
      min-height: 1.3em;
    }
    .caret{
      display:inline-block;
      width: 10px;
      margin-left: 6px;
      border-right: 3px solid rgba(42,36,48,.70);
      height: 1.05em;
      transform: translateY(2px);
      animation: blink .85s step-end infinite;
    }
    @keyframes blink { 50% { opacity: 0; } }

    /* Buttons: bigger tap targets + spacing */
    .btns{
      display:flex;
      flex-wrap:wrap;
      gap: 14px;
      justify-content:center;
      align-items:center;
      padding-top: 4px;
      padding-bottom: 2px;
    }
    button{
      border:0;
      border-radius: 18px;
      padding: 16px 20px;
      font-size: 16px;
      font-weight: 1000;
      cursor:pointer;
      box-shadow: 0 10px 28px rgba(0,0,0,.12);
      touch-action: manipulation;
      min-height: 50px;
    }
    #yesBtn{
      background: linear-gradient(135deg, var(--rose), var(--pink2));
      color: var(--ink);
      --hb: 1;
      transform: scale(1);
    }
    #noBtn{
      background: linear-gradient(135deg, rgba(246,239,230,.95), #fff);
      border: 1px solid rgba(0,0,0,.08);
      color: var(--ink);
    }

    /* Heartbeat */
    @keyframes heartbeat{
      0%   { transform: scale(var(--hb)); }
      20%  { transform: scale(calc(var(--hb) * 1.08)); }
      40%  { transform: scale(var(--hb)); }
      60%  { transform: scale(calc(var(--hb) * 1.15)); }
      100% { transform: scale(var(--hb)); }
    }
    .heartbeat{ animation: heartbeat 1.15s infinite; }

    .hint{
      text-align:center;
      font-size: 13px;
      opacity:.75;
      min-height: 1.2em;
      margin-top: 2px;
    }

    /* Memory jar: now clearly visible and not ‚Äúbehind‚Äù anything */
    .jarWrap{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap: 10px;
      padding-top: 2px;
      padding-bottom: 4px;
    }
    .jarBtn{
      appearance:none;
      border:1px solid rgba(0,0,0,.06);
      background: linear-gradient(135deg, rgba(246,239,230,.95), rgba(247,201,214,.40));
      padding: 14px 16px;
      border-radius: 18px;
      font-weight: 1000;
      cursor:pointer;
      box-shadow: 0 10px 22px rgba(0,0,0,.10);
      min-height: 50px;
      width: min(340px, 100%);
    }
    .note{
      width: 100%;
      background: linear-gradient(180deg, #fff, rgba(255,215,229,.25));
      border: 1px solid rgba(0,0,0,.06);
      border-radius: 18px;
      padding: 14px 14px;
      box-shadow: 0 10px 25px rgba(0,0,0,.10);
      display:none;
      animation: pop .25s ease both;
      font-size: 16px;
      line-height: 1.5;
      text-align:center;
    }
    @keyframes pop{
      from{opacity:0; transform: translateY(8px) scale(.98);}
      to{opacity:1; transform:none;}
    }

    /* Success screen */
    .screen2{
      min-height:100svh;
      display:none;
      place-items:center;
      padding: clamp(16px, 3vw, 28px);
      position: relative;
      z-index: 1;
      background: radial-gradient(900px 600px at 20% 10%, rgba(255,215,229,.65), transparent),
                  radial-gradient(900px 600px at 80% 20%, rgba(246,239,230,.75), transparent),
                  linear-gradient(180deg, #fff, #fff7fa);
    }
    .success{
      width:min(960px, 100%);
      background: #ffffff;
      border: 2px solid rgba(255,111,160,.16);
      border-radius: 28px;
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .success::before{
      content:"";
      position:absolute;
      inset: -2px;
      background:
        radial-gradient(200px 200px at 15% 15%, rgba(255,111,160,.16), transparent 60%),
        radial-gradient(220px 220px at 85% 25%, rgba(247,201,214,.20), transparent 60%);
      pointer-events:none;
    }
    .photo2{
      width:100%;
      aspect-ratio: 16/10;
      background: url("IMG_1848.jpeg") center/cover no-repeat;
      filter: saturate(1.05);
      position:relative;
    }
    .photo2::after{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(180deg, rgba(0,0,0,.0), rgba(0,0,0,.22));
    }
    .successText{
      padding: 18px 16px 24px;
      text-align:center;
      position:relative;
    }
    .yay{
      margin: 8px 0 6px;
      font-size: clamp(30px, 4.8vw, 52px);
      font-weight: 1100;
      letter-spacing: -.02em;
    }
    .msg{
      margin: 0 auto;
      max-width: 60ch;
      font-size: clamp(16px, 2.5vw, 19px);
      line-height: 1.55;
    }
    .tinyFooter{
      margin-top: 10px;
      font-size: 13px;
      opacity:.7;
    }

    /* iPad/mobile comfort */
    @media (hover: none) {
      button, .seal, .jarBtn { min-height: 52px; }
    }
  </style>
</head>

<body>
  <div class="float-hearts" id="floatHearts" aria-hidden="true"></div>
  <div class="confetti" id="confetti" aria-hidden="true"></div>

  <!-- Screen 1 -->
  <section class="screen" id="screen1">
    <div class="bg" aria-hidden="true"></div>
    <div class="overlay" aria-hidden="true"></div>

    <div class="card">
      <div class="headline">
        <h1 class="title">Hi my love</h1>
        <span class="sparkle">üíó</span>
      </div>

      <p class="sub">
        Tap the üíã seal to open the envelope, then answer the question‚Ä¶ and open the Memory Jar üçØ
      </p>

      <div class="pillRow" aria-hidden="true">
        <div class="pill">üíå cute mode: ON</div>
        <div class="pill">‚ú® iPad friendly</div>
        <div class="pill">üíó made with love</div>
      </div>

      <div class="envelope-area">
        <div class="envelope" id="envelope" aria-label="Envelope">
          <div class="env-back"></div>

          <div class="env-letter" id="letter">
            <div class="letterTop">
              <span class="miniPill">üíå A note for you</span>
              <span class="miniPill">üçØ tap the jar</span>
            </div>

            <div class="question">
              <span id="typed"></span><span class="caret" id="caret"></span>
            </div>

            <div class="btns" id="btnRow" style="display:none;">
              <button id="yesBtn">YES üíû</button>
              <button id="noBtn">No üò∂</button>
            </div>

            <div class="hint" id="hint" style="display:none;">Be careful with that ‚ÄúNo‚Äù‚Ä¶</div>

            <div class="jarWrap" id="jarWrap" style="display:none;">
              <button class="jarBtn" id="jarBtn">üçØ Open the Memory Jar</button>
              <div class="note" id="note"></div>
            </div>
          </div>

          <div class="env-flap" aria-hidden="true"></div>
          <div class="env-front" aria-hidden="true"></div>

          <div class="seal" id="seal" role="button" aria-label="Tap to open">
            <div>
              <div class="kiss">üíã</div>
              <div class="tiny">tap</div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>

  <!-- Screen 2 -->
  <section class="screen2" id="screen2">
    <div class="success">
      <div class="photo2" aria-label="Valentine photo"></div>
      <div class="successText">
        <div class="yay">YAYYY!!!</div>
        <p class="msg">
          Thank you my Loveee!!! üíó<br/>
          Looking forward to February 14th!
        </p>
        <div class="tinyFooter">Now you‚Äôre officially my Valentine üòå</div>
      </div>
    </div>
  </section>

  <script>
    // Floating hearts background
    (function makeFloatingHearts(){
      const wrap = document.getElementById("floatHearts");
      const colors = [
        "rgba(255,111,160,.85)",
        "rgba(247,201,214,.80)",
        "rgba(246,239,230,.90)",
        "rgba(255,255,255,.70)"
      ];
      const count = 30;
      for(let i=0;i<count;i++){
        const h = document.createElement("div");
        h.className = "fheart";
        h.style.left = (Math.random()*100) + "vw";
        h.style.animationDuration = (7 + Math.random()*9) + "s";
        h.style.animationDelay = (Math.random()*6) + "s";
        h.style.setProperty("--s", (0.7 + Math.random()*1.7).toFixed(2));
        h.style.background = colors[Math.floor(Math.random()*colors.length)];
        wrap.appendChild(h);
      }
    })();

    // Typing animation
    const typed = document.getElementById("typed");
    const caret = document.getElementById("caret");
    const btnRow = document.getElementById("btnRow");
    const hint = document.getElementById("hint");
    const jarWrap = document.getElementById("jarWrap");

    function typeText(text, speed = 55){
      typed.textContent = "";
      caret.style.display = "inline-block";
      let i = 0;
      const t = setInterval(() => {
        typed.textContent += text[i];
        i++;
        if(i >= text.length){
          clearInterval(t);
          setTimeout(() => {
            btnRow.style.display = "flex";
            hint.style.display = "block";
            jarWrap.style.display = "flex";
            setTimeout(() => caret.style.display = "none", 650);
          }, 240);
        }
      }, speed);
    }

    // Envelope open (kiss tap)
    const envelope = document.getElementById("envelope");
    const seal = document.getElementById("seal");

    seal.addEventListener("click", () => {
      envelope.classList.add("open");
      setTimeout(() => typeText("Will you be my Valentine?", 55), 260);
    });

    // Memory jar
    const jarBtn = document.getElementById("jarBtn");
    const note = document.getElementById("note");

    const notes = [
      "I Love you to the moon and back.",
      "You‚Äôre so beautiful ‚Äî every time I think of you I thank God for having you.",
      "You‚Äôre amazing!",
      "My hardworking babyyy :))",
      "Whenever I‚Äôm with you I feel safe :)"
    ];

    jarBtn.addEventListener("click", () => {
      note.textContent = notes[Math.floor(Math.random() * notes.length)];
      note.style.display = "block";
    });

    // YES confetti + success screen
    const confetti = document.getElementById("confetti");
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const screen1 = document.getElementById("screen1");
    const screen2 = document.getElementById("screen2");

    function burstHearts(count = 52){
      const colors = ["#ff6fa0","#ffd7e5","#f7c9d6","#f6efe6","#ffffff"];
      for(let i=0;i<count;i++){
        const h = document.createElement("div");
        h.className = "heart";
        h.style.left = (Math.random()*100) + "vw";
        h.style.top  = (-20 - Math.random()*160) + "px";
        h.style.background = colors[Math.floor(Math.random()*colors.length)];
        h.style.setProperty("--s", (0.7 + Math.random()*1.7).toFixed(2));
        h.style.animationDuration = (1.9 + Math.random()*1.4) + "s";
        h.style.animationDelay = (Math.random()*0.25) + "s";
        confetti.appendChild(h);
        setTimeout(() => h.remove(), 3800);
      }
    }

    yesBtn.addEventListener("click", () => {
      burstHearts(60);
      setTimeout(() => {
        screen1.style.display = "none";
        screen2.style.display = "grid";
        window.scrollTo({ top: 0, behavior: "smooth" });
      }, 520);
    });

    // NO logic: YES grows + heartbeat, NO disappears
    let noCount = 0;
    let hb = 1;

    noBtn.addEventListener("click", () => {
      noCount++;

      hb = Math.min(hb + 0.20, 2.9);
      yesBtn.style.setProperty("--hb", hb);
      yesBtn.classList.add("heartbeat");
      yesBtn.style.transform = `scale(${hb})`;

      noBtn.style.transform = `scale(${Math.max(1 - noCount*0.08, 0.65)})`;

      hint.textContent = (noCount < 3)
        ? "Hmm‚Ä¶ try again üòå"
        : (noCount < 6)
          ? "The YES button is getting kinda big‚Ä¶ üíó"
          : "Okay‚Ä¶ I think the universe has decided. üòá";

      if(noCount >= 7){
        noBtn.style.opacity = "0";
        noBtn.style.pointerEvents = "none";
        setTimeout(() => {
          noBtn.style.display = "none";
          hint.textContent = "Only one option left üòà";
        }, 220);
      }
    });
  </script>
</body>
</html>
