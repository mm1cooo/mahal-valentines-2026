<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>üíó Valentine?</title>

  <style>
    :root{
      --rose:#ff4f93;
      --rose2:#ff88b7;
      --pink:#ffd0e1;
      --beige:#f6efe6;
      --cream:#fff7f3;
      --ink:#241f2b;
      --card:#ffffff;
      --shadow: 0 22px 70px rgba(0,0,0,.18);
      --shadow2: 0 12px 35px rgba(0,0,0,.14);
      --radius: 28px;
    }

    *{ box-sizing:border-box; }
    html, body { height:100%; }
    body{
      margin:0;
      font-family: ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--ink);
      overflow-x:hidden;
      background:#fff;
      -webkit-tap-highlight-color: transparent;
    }

    /* Background photo + soft overlay */
    .screen{
      min-height:100svh;
      display:grid;
      place-items:center;
      padding: clamp(16px, 3vw, 28px);
      position: relative;
      isolation:isolate;
    }
    .bg{
      position:absolute; inset:0;
      background: url("IMG_4034.jpeg") center/cover no-repeat;
      z-index:-2;
    }
    .overlay{
      position:absolute; inset:0;
      background:
        radial-gradient(900px 600px at 15% 10%, rgba(255,255,255,.70), transparent 60%),
        radial-gradient(900px 700px at 85% 20%, rgba(246,239,230,.75), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.72), rgba(255,208,225,.50));
      z-index:-1;
    }

    /* Floating hearts */
    .float-hearts{
      position: fixed; inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index: 0;
    }
    .fheart{
      position:absolute;
      width: 14px; height: 14px;
      transform: rotate(45deg);
      opacity:.20;
      animation: drift linear infinite;
      background: rgba(255,79,147,.85);
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.08));
    }
    .fheart::before,.fheart::after{
      content:"";
      position:absolute;
      width:14px; height:14px;
      border-radius:50%;
      background: inherit;
    }
    .fheart::before{ left:-7px; }
    .fheart::after{ top:-7px; }
    @keyframes drift{
      from { transform: translateY(110vh) rotate(45deg) scale(var(--s)); }
      to   { transform: translateY(-25vh) rotate(45deg) scale(var(--s)); }
    }

    /* Confetti hearts */
    .confetti{
      position:fixed; inset:0;
      pointer-events:none; overflow:hidden;
      z-index:9999;
    }
    .confetti .heart{
      position:absolute;
      width:14px; height:14px;
      transform: rotate(45deg);
      opacity:0.95;
      animation: fall linear forwards;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.15));
    }
    .confetti .heart::before,.confetti .heart::after{
      content:"";
      position:absolute;
      width:14px; height:14px;
      border-radius:50%;
      background:inherit;
    }
    .confetti .heart::before{ left:-7px; }
    .confetti .heart::after{ top:-7px; }
    @keyframes fall{
      0%{ transform: translateY(-15vh) rotate(45deg) scale(var(--s)); opacity:1; }
      100%{ transform: translateY(110vh) rotate(45deg) scale(var(--s)); opacity:0; }
    }

    /* Main card: solid + colorful */
    .card{
      width: min(980px, 100%);
      background:
        radial-gradient(260px 220px at 12% 18%, rgba(255,79,147,.18), transparent 60%),
        radial-gradient(300px 240px at 88% 25%, rgba(255,208,225,.35), transparent 60%),
        linear-gradient(180deg, #ffffff, #fff7fb);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      border: 2px solid rgba(255,79,147,.18);
      padding: clamp(18px, 3vw, 26px);
      position:relative;
      overflow:hidden;
      z-index: 1;
    }

    /* Cute corner stickers */
    .sticker{
      position:absolute;
      font-size: 26px;
      opacity:.95;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.12));
      user-select:none;
      pointer-events:none;
    }
    .s1{ top:14px; left:16px; transform: rotate(-10deg); }
    .s2{ top:14px; right:16px; transform: rotate(12deg); }
    .s3{ bottom:14px; left:16px; transform: rotate(8deg); }
    .s4{ bottom:14px; right:16px; transform: rotate(-8deg); }

    .headline{
      display:flex;
      justify-content:center;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      margin: 4px 0 10px;
    }
    .title{
      margin:0;
      font-size: clamp(28px, 4.8vw, 52px);
      font-weight: 1100;
      letter-spacing:-.02em;
    }
    .sub{
      margin: 0 auto 16px;
      max-width: 70ch;
      text-align:center;
      font-size: clamp(14px, 2.1vw, 16px);
      line-height:1.55;
      opacity:.9;
    }

    .pillRow{
      display:flex;
      justify-content:center;
      gap:10px;
      flex-wrap:wrap;
      margin-bottom: 14px;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 10px 12px;
      border-radius: 999px;
      background: linear-gradient(135deg, rgba(246,239,230,.95), rgba(255,208,225,.70));
      border: 1px solid rgba(0,0,0,.06);
      font-weight: 950;
      font-size: 13px;
      box-shadow: 0 10px 22px rgba(0,0,0,.08);
      user-select:none;
    }

    /* Envelope block (ONLY decorative animation now) */
    .envelopeWrap{
      display:grid;
      place-items:center;
      gap: 12px;
      margin-top: 6px;
    }

    .envelope{
      width: min(560px, 96vw);
      aspect-ratio: 16 / 11;
      position: relative;
      border-radius: 20px;
      filter: drop-shadow(var(--shadow2));
      user-select:none;
      touch-action: manipulation;
    }
    .env-back{
      position:absolute; inset:0;
      background: linear-gradient(135deg, var(--cream), #fff);
      border-radius: 20px;
      border: 1px solid rgba(0,0,0,.06);
      overflow:hidden;
    }
    .env-front{
      position:absolute; inset:0;
      border-radius: 20px;
      overflow:hidden;
      pointer-events:none;
    }
    .env-front::before{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(135deg, rgba(246,239,230,.95), rgba(255,208,225,.90));
    }
    .env-front::after{
      content:"";
      position:absolute; inset:-1px;
      background: linear-gradient(135deg, rgba(0,0,0,.0), rgba(0,0,0,.12));
      clip-path: polygon(0 100%, 50% 45%, 100% 100%, 100% 100%, 0 100%);
      opacity:.20;
    }
    .env-flap{
      position:absolute; left:0; right:0; top:0;
      height: 58%;
      transform-origin: top center;
      transform: rotateX(0deg);
      transition: transform .7s cubic-bezier(.2,.8,.2,1);
      border-radius: 20px 20px 10px 10px;
      pointer-events:none;
      z-index: 2;
    }
    .env-flap::before{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(135deg, var(--beige), var(--pink));
      clip-path: polygon(0 0, 100% 0, 50% 100%);
      border-top-left-radius: 20px;
      border-top-right-radius: 20px;
      border: 1px solid rgba(0,0,0,.05);
      border-bottom:none;
    }
    .seal{
      position:absolute;
      left: 50%; top: 58%;
      transform: translate(-50%, -50%);
      width: 90px; height: 90px;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,.06);
      background: radial-gradient(circle at 30% 25%, #fff, rgba(255,208,225,.95));
      box-shadow: 0 12px 26px rgba(0,0,0,.16);
      display:grid;
      place-items:center;
      cursor:pointer;
      transition: transform .12s ease, opacity .25s ease;
      z-index: 3;
    }
    .seal:active{ transform: translate(-50%,-50%) scale(.96); }
    .seal .kiss{ font-size: 32px; line-height:1; }
    .seal .tiny{ font-size: 11px; font-weight: 1000; opacity:.75; margin-top: 2px; }

    .envelope.open .env-flap{ transform: rotateX(160deg); }
    .envelope.open .seal{ opacity:0; pointer-events:none; }

    /* The REAL content panel (normal flow, no overlap ever) */
    .panel{
      width: min(760px, 100%);
      background: #ffffff;
      border: 2px solid rgba(255,79,147,.14);
      border-radius: 22px;
      box-shadow: 0 12px 32px rgba(0,0,0,.10);
      padding: 18px 16px;
      display:none;
    }

    .panelTop{
      display:flex;
      justify-content:center;
      gap:10px;
      flex-wrap:wrap;
      margin-bottom: 10px;
    }
    .miniPill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 10px 12px;
      border-radius: 999px;
      background: linear-gradient(135deg, rgba(255,208,225,.35), rgba(246,239,230,.60));
      border: 1px solid rgba(0,0,0,.06);
      font-weight: 1000;
      font-size: 13px;
      user-select:none;
    }

    .question{
      text-align:center;
      font-size: clamp(22px, 3.2vw, 40px);
      font-weight: 1100;
      letter-spacing:-.02em;
      min-height: 1.4em;
      margin: 8px 0 6px;
    }
    .caret{
      display:inline-block;
      width: 10px;
      margin-left: 6px;
      border-right: 3px solid rgba(36,31,43,.65);
      height: 1.05em;
      transform: translateY(2px);
      animation: blink .85s step-end infinite;
    }
    @keyframes blink { 50% { opacity:0; } }

    .btns{
      display:flex;
      justify-content:center;
      gap: 14px;
      flex-wrap:wrap;
      margin-top: 10px;
    }
    button{
      border:0;
      border-radius: 18px;
      padding: 16px 22px;
      font-size: 16px;
      font-weight: 1100;
      cursor:pointer;
      box-shadow: 0 10px 26px rgba(0,0,0,.12);
      min-height: 52px;
      touch-action: manipulation;
    }
    #yesBtn{
      background: linear-gradient(135deg, var(--rose), var(--rose2));
      color: #1d1421;
      --hb: 1;
      transform: scale(1);
    }
    #noBtn{
      background: linear-gradient(135deg, rgba(246,239,230,.95), #fff);
      border: 1px solid rgba(0,0,0,.10);
      color: var(--ink);
    }

    @keyframes heartbeat{
      0%   { transform: scale(var(--hb)); }
      20%  { transform: scale(calc(var(--hb) * 1.08)); }
      40%  { transform: scale(var(--hb)); }
      60%  { transform: scale(calc(var(--hb) * 1.15)); }
      100% { transform: scale(var(--hb)); }
    }
    .heartbeat{ animation: heartbeat 1.15s infinite; }

    .hint{
      text-align:center;
      margin-top: 8px;
      font-size: 13px;
      opacity:.75;
      min-height: 1.2em;
    }

    .jarWrap{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap: 10px;
      margin-top: 12px;
    }
    .jarBtn{
      width: min(360px, 100%);
      background: linear-gradient(135deg, rgba(246,239,230,.95), rgba(255,208,225,.55));
      border: 1px solid rgba(0,0,0,.06);
    }
    .note{
      width: 100%;
      background: linear-gradient(180deg, #fff, rgba(255,208,225,.25));
      border: 1px solid rgba(0,0,0,.06);
      border-radius: 18px;
      padding: 14px 14px;
      box-shadow: 0 10px 25px rgba(0,0,0,.10);
      display:none;
      font-size: 16px;
      line-height:1.55;
      text-align:center;
      animation: pop .25s ease both;
    }
    @keyframes pop{
      from{opacity:0; transform: translateY(8px) scale(.98);}
      to{opacity:1; transform:none;}
    }

    /* Success screen */
    .screen2{
      min-height:100svh;
      display:none;
      place-items:center;
      padding: clamp(16px, 3vw, 28px);
      position: relative;
      background:
        radial-gradient(900px 600px at 20% 10%, rgba(255,208,225,.65), transparent),
        radial-gradient(900px 600px at 80% 20%, rgba(246,239,230,.75), transparent),
        linear-gradient(180deg, #fff, #fff7fa);
    }
    .success{
      width:min(960px, 100%);
      background:#ffffff;
      border: 2px solid rgba(255,79,147,.16);
      border-radius: 28px;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .photo2{
      width:100%;
      aspect-ratio: 16/10;
      background: url("IMG_1848.jpeg") center/cover no-repeat;
      position:relative;
    }
    .photo2::after{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,.22));
    }
    .successText{
      padding: 18px 16px 24px;
      text-align:center;
    }
    .yay{
      margin: 8px 0 6px;
      font-size: clamp(30px, 4.8vw, 52px);
      font-weight: 1100;
      letter-spacing: -.02em;
    }
    .msg{
      margin: 0 auto;
      max-width: 60ch;
      font-size: clamp(16px, 2.5vw, 19px);
      line-height: 1.55;
    }

    @media (hover: none) {
      button, .seal { min-height: 54px; }
    }
  </style>
</head>

<body>
  <div class="float-hearts" id="floatHearts" aria-hidden="true"></div>
  <div class="confetti" id="confetti" aria-hidden="true"></div>

  <!-- Screen 1 -->
  <section class="screen" id="screen1">
    <div class="bg" aria-hidden="true"></div>
    <div class="overlay" aria-hidden="true"></div>

    <div class="card">
      <div class="sticker s1">üíò</div>
      <div class="sticker s2">‚ú®</div>
      <div class="sticker s3">üíû</div>
      <div class="sticker s4">üçØ</div>

      <div class="headline">
        <h1 class="title">Hi my love</h1>
        <div style="font-size:22px">üíó</div>
      </div>

      <p class="sub">Tap the üíã seal to open your envelope.</p>

      <div class="pillRow" aria-hidden="true">
        <div class="pill">üíå for you</div>
        <div class="pill">üíó cute + clean</div>
        <div class="pill">‚ú® iPad friendly</div>
      </div>

      <div class="envelopeWrap">
        <div class="envelope" id="envelope" aria-label="Envelope">
          <div class="env-back"></div>
          <div class="env-flap" aria-hidden="true"></div>
          <div class="env-front" aria-hidden="true"></div>

          <div class="seal" id="seal" role="button" aria-label="Tap to open">
            <div>
              <div class="kiss">üíã</div>
              <div class="tiny">tap</div>
            </div>
          </div>
        </div>

        <!-- Real content (no overlap) -->
        <div class="panel" id="panel">
          <div class="panelTop">
            <span class="miniPill">üíå A note for you</span>
            <span class="miniPill">üçØ tap the jar</span>
          </div>

          <div class="question">
            <span id="typed"></span><span class="caret" id="caret"></span>
          </div>

          <div class="btns" id="btnRow">
            <button id="yesBtn">YES üíû</button>
            <button id="noBtn">No üò∂</button>
          </div>

          <div class="hint" id="hint">Be careful with that ‚ÄúNo‚Äù‚Ä¶</div>

          <div class="jarWrap">
            <button class="jarBtn" id="jarBtn">üçØ Open the Memory Jar</button>
            <div class="note" id="note"></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Screen 2 -->
  <section class="screen2" id="screen2">
    <div class="success">
      <div class="photo2" aria-label="Valentine photo"></div>
      <div class="successText">
        <div class="yay">YAYYY!!!</div>
        <p class="msg">
          Thank you my Loveee!!! üíó<br/>
          Looking forward to February 14th!
        </p>
      </div>
    </div>
  </section>

  <script>
    // Floating hearts
    (function makeFloatingHearts(){
      const wrap = document.getElementById("floatHearts");
      const colors = [
        "rgba(255,79,147,.85)",
        "rgba(255,136,183,.75)",
        "rgba(246,239,230,.90)",
        "rgba(255,255,255,.70)"
      ];
      const count = 32;
      for(let i=0;i<count;i++){
        const h = document.createElement("div");
        h.className = "fheart";
        h.style.left = (Math.random()*100) + "vw";
        h.style.animationDuration = (7 + Math.random()*9) + "s";
        h.style.animationDelay = (Math.random()*6) + "s";
        h.style.setProperty("--s", (0.7 + Math.random()*1.9).toFixed(2));
        h.style.background = colors[Math.floor(Math.random()*colors.length)];
        wrap.appendChild(h);
      }
    })();

    // Typing
    const typed = document.getElementById("typed");
    const caret = document.getElementById("caret");
    function typeText(text, speed = 55){
      typed.textContent = "";
      caret.style.display = "inline-block";
      let i = 0;
      const t = setInterval(() => {
        typed.textContent += text[i];
        i++;
        if(i >= text.length){
          clearInterval(t);
          setTimeout(() => caret.style.display = "none", 650);
        }
      }, speed);
    }

    // Envelope open -> show panel
    const envelope = document.getElementById("envelope");
    const seal = document.getElementById("seal");
    const panel = document.getElementById("panel");

    seal.addEventListener("click", () => {
      envelope.classList.add("open");
      panel.style.display = "block";
      panel.scrollIntoView({ behavior:"smooth", block:"nearest" });
      setTimeout(() => typeText("Will you be my Valentine?", 55), 250);
    });

    // Memory jar
    const jarBtn = document.getElementById("jarBtn");
    const note = document.getElementById("note");
    const notes = [
      "I Love you to the moon and back.",
      "You‚Äôre so beautiful ‚Äî every time I think of you I thank God for having you.",
      "You‚Äôre amazing!",
      "My hardworking babyyy :))",
      "Whenever I‚Äôm with you I feel safe :)"
    ];
    jarBtn.addEventListener("click", () => {
      note.textContent = notes[Math.floor(Math.random() * notes.length)];
      note.style.display = "block";
    });

    // Confetti
    const confetti = document.getElementById("confetti");
    function burstHearts(count = 60){
      const colors = ["#ff4f93","#ff88b7","#ffd0e1","#f6efe6","#ffffff"];
      for(let i=0;i<count;i++){
        const h = document.createElement("div");
        h.className = "heart";
        h.style.left = (Math.random()*100) + "vw";
        h.style.top  = (-20 - Math.random()*160) + "px";
        h.style.background = colors[Math.floor(Math.random()*colors.length)];
        h.style.setProperty("--s", (0.7 + Math.random()*1.7).toFixed(2));
        h.style.animationDuration = (1.9 + Math.random()*1.4) + "s";
        h.style.animationDelay = (Math.random()*0.25) + "s";
        confetti.appendChild(h);
        setTimeout(() => h.remove(), 3800);
      }
    }

    // YES/NO logic
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const hint = document.getElementById("hint");
    const screen1 = document.getElementById("screen1");
    const screen2 = document.getElementById("screen2");

    yesBtn.addEventListener("click", () => {
      burstHearts(70);
      setTimeout(() => {
        screen1.style.display = "none";
        screen2.style.display = "grid";
        window.scrollTo({ top: 0, behavior: "smooth" });
      }, 520);
    });

    let noCount = 0;
    let hb = 1;

    noBtn.addEventListener("click", () => {
      noCount++;
      hb = Math.min(hb + 0.20, 2.9);

      yesBtn.style.setProperty("--hb", hb);
      yesBtn.classList.add("heartbeat");
      yesBtn.style.transform = `scale(${hb})`;

      noBtn.style.transform = `scale(${Math.max(1 - noCount*0.08, 0.65)})`;

      hint.textContent = (noCount < 3)
        ? "Hmm‚Ä¶ try again üòå"
        : (noCount < 6)
          ? "The YES button is getting kinda big‚Ä¶ üíó"
          : "Okay‚Ä¶ I think the universe has decided. üòá";

      if(noCount >= 7){
        noBtn.style.opacity = "0";
        noBtn.style.pointerEvents = "none";
        setTimeout(() => {
          noBtn.style.display = "none";
          hint.textContent = "Only one option left üòà";
        }, 220);
      }
    });
  </script>
</body>
</html>
